<div class="container mx-auto px-4">
  <div class="w-full">
    <div class="grid grid-cols-6 grid-row-10 md:grid-cols-12 w-full justify-center p-4">
      <div class="col-span-6 md:col-span-12 md:row-start-1">
        <h1 class="text-2xl text-center font-bold my-6 text-gray-600"><%= t('.title') %></h1> 
      </div>

      <!-- 画面左：アバター表示 -->
      <div class="col-span-2 col-start-2 row-start-2 flex items-center
                  md:col-start-1 md:col-span-2 md:row-span-2 md:row-start-3
                  md:flex-col md:mt-10 md:m-2">
        <div id="avatar-area">
          <%= render "profiles/avatar_display", user: @user %>
        </div>
      </div>
      <div class="col-span-2 col-start-4 row-span-1 row-start-2 flex items-center flex-col mt-2
                  md:col-start-1 md:col-span-2 md:row-span-1 md:row-start-5
                  md:m-2">
        <div id="main-username">
          <%= render "shared/username", user: @user %>
        </div>
        <div class="text-sm mt-2">
          <p>ユーザー登録日</p>
          <p><%= l(@user.created_at, format: :short) %></p>
        </div>
      </div>

      <!-- 画面中央：基本情報表示 -->
      <div class="col-span-6  col-start-1 row-start-3 flex flex-col m-2
                  md:col-span-4 md:col-start-3 md:row-span-6 md:row-start-3
                  md:ml-4">
        <h2>基本情報</h2>
        <div class="border-2 text-sm">
          <div class="my-4 p-2">
            <div class="flex items-center justify-between mb-2">
              <p>名前</p>
              <%= link_to "編集", edit_name_profile_path,
                          data: { turbo_stream: true, turbo_action: "update", turbo_target: "body" },
                          class: "bg-amber-200 hover:bg-amber-500 text-sm px-1" %>
            </div>
            <div id="name">
              <%= render "shared/username", user: @user %>
            </div>
          </div>

          <div class="my-4 p-2">
            <div class="flex items-center justify-between mb-2">
              <p>メールアドレス</p>
              <%= link_to "編集", edit_email_profile_path, class: "bg-amber-200 hover:bg-amber-500 text-sm px-1" %>
            </div>
            <span><%= @user.email %></span>
          </div>

          <div class="my-4 p-2">
            <div class="flex items-center justify-between mb-2">
              <p>パスワード</p>
              <%= link_to "編集", edit_user_account_password_path,
                            class: "bg-amber-200 hover:bg-amber-500 text-sm px-1" %>
            </div>
            <span>⚫︎⚫︎⚫︎⚫︎⚫︎⚫︎</span>  
          </div>

          <div class="my-4 p-2 pb-10">
            <div class="flex items-center mb-2 justify-between">
            <div class="flex items-center">
              <p>プロフィール画像</p>
              <%= button_to "削除",
                          remove_avatar_profile_path,
                          method: :delete,
                          data: { turbo_confirm: "本当に削除しますか？" },
                          class: "text-amber-500 hover:text-amber-800 text-sm px-4" %>
               </div>
                <div>
              <%= link_to "編集", edit_avatar_profile_path,
                          data: { turbo_stream: true, turbo_action: "update", turbo_target: "body" },
                          class: "bg-amber-200 hover:bg-amber-500 text-sm px-1" %>
            </div>
            </div>
            <div id="avatar-filename">
              <%= render "profiles/avatar_filename", user: @user %>
            </div>  
          </div>
        </div>
      </div>

      <!-- 画面右：各種設定状況 -->
      <div class="col-span-6 col-start-1 row-start-4 m-2
                  md:col-span-4 md:col-start-8 md:row-span-2 md:row-start-3">
        <h2>各種設定状況</h2>
        <div class="border-2 text-sm">
          <div class="my-4 p-2">
            <div class="flex items-center justify-between mb-2">
              <!-- キャラクターNAMEの表示 -->
              <div id="character_name_area">
                <%= render 'devise/character_name_display', user: current_user %>
              </div>
              <%= link_to "変更", character_form_path,
                          data: { turbo_stream: true },
                          class: "bg-amber-200 hover:bg-amber-500 text-sm px-1" %>
            </div>
          </div>
          <div class="my-4 p-2">
            <div class="flex items-center justify-between mb-2">
            <p>LINE連携</p>
            <%= link_to "https://lin.ee/VsVCHh4" do %>
              <%= image_tag "https://scdn.line-apps.com/n/line_add_friends/btn/ja.png", alt: "友だち追加", class: "h-6" %>
            <% end %>
          </div>
        </div>
      </div>

      <!-- 画面右下：ステータス -->
      <div class="col-span-6 col-start-1 row-start-5
                  md:col-span-4 md:col-start-8 md:row-span-4 md:row-start-5 m-2">
        <h2>ステータス</h2>
        <div class="border-2 text-sm">
          <div class="my-2 p-2">
            <p class="text-sm lg:text-base">累計ポジティブ数：<%= @user.total_posts_count %></p>
          </div>
          <div class="my-2 p-2">
            <p class="text-sm lg:text-base">連続記録日数：<%= @user.consecutive_days %> 日</p>
          </div>
          <div class="mt-2 p-2">
            <p class="text-sm lg:text-base">獲得バッジ</p>
            <div class="grid grid-cols-5 grid-row-2 mx-4">
              <% @user.badges.each do |badge| %>
              <div class="badge">
                <%= image_tag badge.image, class: "w-8 h-8 m-4 border rounded-md"%>
              </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>

      <!-- 非同期表示 -->
      <div class="col-span-4 col-start-1 row-start-3
                  md:col-span-1 md:col-start-7 md:row-span-1 md:row-start-3
                  relative z-50 md:z-auto">
        <!-- nama編集画面 -->
        <div id="name-edit-form"></div>
        <!-- avatar編集画面 -->
        <div id="avatar-edit-form"></div>
      </div>
      <div class="col-span-5 col-start-1 row-start-4
                  md:col-span-4 md:col-start-7 md:row-span-6 md:row-start-3">
        <!-- キャラクター変更画面 -->
        <div id="character-form-container"></div>
      </div>
    </div>
  </div>
</div>